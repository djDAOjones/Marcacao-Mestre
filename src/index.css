@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* ── Light mode (default) ── */
  --cap-bg: 247 247 244;
  --cap-surface: 255 255 255;
  --cap-panel: 235 230 218;
  --cap-btn: 215 207 190;
  --cap-btn-hover: 200 192 175;
  --cap-border: 178 168 148;
  --cap-border-sub: 208 202 188;
  --cap-text: 17 17 17;
  --cap-text-sec: 55 50 40;
  --cap-muted: 110 95 70;
  --cap-disabled: 140 130 110;

  --cap-green: 0 100 38;
  --cap-green-deep: 30 85 35;
  --cap-yellow: 130 100 0;
  --cap-gold: 120 92 10;
  --cap-flag: 130 100 0;
  --cap-blue: 0 39 118;
  --cap-red: 180 35 35;
  --cap-burgundy: 109 33 60;
  --cap-wood: 115 80 48;
  --cap-gourd: 160 110 36;
  --cap-leather: 90 58 34;
}

.dark {
  /* ── Dark mode ── */
  --cap-bg: 17 17 17;
  --cap-surface: 30 30 30;
  --cap-panel: 43 43 43;
  --cap-btn: 61 61 61;
  --cap-btn-hover: 74 74 74;
  --cap-border: 61 61 61;
  --cap-border-sub: 43 43 43;
  --cap-text: 247 247 244;
  --cap-text-sec: 232 226 213;
  --cap-muted: 216 195 165;
  --cap-disabled: 107 107 107;

  --cap-green: 0 156 59;
  --cap-green-deep: 46 125 50;
  --cap-yellow: 244 195 0;
  --cap-gold: 201 162 39;
  --cap-flag: 255 223 0;
  --cap-blue: 0 39 118;
  --cap-red: 198 40 40;
  --cap-burgundy: 109 33 60;
  --cap-wood: 139 94 60;
  --cap-gourd: 201 138 46;
  --cap-leather: 90 58 34;
}

body {
  margin: 0;
  min-height: 100vh;
  background: rgb(var(--cap-bg));
  color: rgb(var(--cap-text));
  transition: background-color 200ms, color 200ms;
}

* {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  /* Prevent double-tap zoom on touch devices — enables double-click interactions */
  touch-action: manipulation;
}

/* Thin scrollbar for horizontal tempo rows */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: rgb(var(--cap-border)) transparent;
}
.scrollbar-thin::-webkit-scrollbar {
  height: 4px;
}
.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}
.scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: rgb(var(--cap-border));
  border-radius: 2px;
}

/* Responsive clamp: 1024×768 min, 2560×1440 max */
#root {
  min-width: 1024px;
  min-height: 768px;
  max-width: 2560px;
  max-height: 1440px;
  width: 100vw;
  height: 100vh;
  margin: 0 auto;
  overflow: hidden;
}

/* WCAG AAA: ensure visible focus outlines globally */
:focus-visible {
  outline: 2px solid rgb(var(--cap-text));
  outline-offset: 2px;
}
